<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-N6MC6SMGJM"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-N6MC6SMGJM', {
              page_path: window.location.pathname,
            });
          </script><link rel="alternate" type="application/rss+xml" title="RSS feed" href="/rss.xml"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>`mask-image` と `linear-graident()` を使った省略表現</title><meta property="og:title" content="`mask-image` と `linear-graident()` を使った省略表現"/><meta property="og:description" content="&lt;iframe height=&quot;300&quot; style=&quot;width: 100%;&quot; scrolling=&quot;no&quot; title=&quot;ellipsis&quot; src=&quot;https://codepen.io/yuki-wd/embed/ExXYbZE?default-tab=html%2Cresult&quot; frameborder=&quot;no&quot; loading=&quot;lazy&quot; allowtransparency=&quot;true&quot; allowfullscreen=&quot;true&quot;&gt;"/><meta name="twitter:card" content="summary"/><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/1e8ccdab538ecc583dd2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1e8ccdab538ecc583dd2.css" data-n-g=""/><link rel="preload" href="/_next/static/css/8c35c68098dd8759f6c1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8c35c68098dd8759f6c1.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-1aebe1c5ebad78b6eefd.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.2113c6061a2f456066a1.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.040a3874e38b7cc6b430.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-5874fa266a7d44909009.js" as="script"/><link rel="preload" href="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.bb32f9c4396722e794d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/articles/%5Bid%5D-16081245fdd7df34b03c.js" as="script"/></head><body><div id="__next"><div class="layout_container__2t4v2"><header class="layout_header__2rhWq"><h1 class="layout_title__24-9Z"><a href="/">🌳MORIMO🌳</a></h1></header><main><article class="detail_article__3SXso"><div><span>2021年08月22日</span><h1>`mask-image` と `linear-graident()` を使った省略表現</h1></div><div><iframe height="300" style="width: 100%;" scrolling="no" title="ellipsis" src="https://codepen.io/yuki-wd/embed/ExXYbZE?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/yuki-wd/pen/ExXYbZE">
  ellipsis</a> by pywd (<a href="https://codepen.io/yuki-wd">@yuki-wd</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>
<p>こんな感じに、はみ出した部分を薄くする表現。省略表現と書いたが、省略ではない気がしてきた...</p>
<h2>考え方</h2>
<blockquote>
<p>mask-image は CSS のプロパティで、要素のマスクレイヤーとして使用される画像を設定します。
<a href="https://developer.mozilla.org/ja/docs/Web/CSS/mask-image">https://developer.mozilla.org/ja/docs/Web/CSS/mask-image</a></p>
</blockquote>
<p><code>mask-image</code> に <code>linear-gradient()</code> を設定することで、指定位置以降(はみ出した場所)の要素の透明度を上げてやろうというアプローチ。</p>
<h2>実装</h2>
<p>はみ出したかどうかを判定したい要素(今回は <code>.box</code>)を<code>width: 100%</code>の要素(<code>.row</code>)で囲う。この<code>.row</code>に<code>mask-image</code>を設定する。</p>
<p><code>linear-gradient()</code> で右向きに <code>rgb(0,0,0)</code> から <code>rgba(0,0,0,0.4)</code>に変化するように設定する。それぞれ、はみ出し部分(まで|から)変化するように設定することで、グラデーションなしにはみ出し部分から透明度が上がることになる。</p>
<p>具体的には以下のようになる</p>
<pre><code class="hljs language-css"><span class="hljs-selector-class">.row</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  -webkit-<span class="hljs-attribute">mask</span>-image: <span class="hljs-built_in">linear-gradient</span>(
    to right,
    <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>) <span class="hljs-number">100px</span>,
    <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>) <span class="hljs-number">100px</span>
  );
}</code></pre>
</div></article></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"date":"2021年08月22日","title":"`mask-image` と `linear-graident()` を使った省略表現","content":"\u003ciframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"ellipsis\" src=\"https://codepen.io/yuki-wd/embed/ExXYbZE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"\u003e\n  See the Pen \u003ca href=\"https://codepen.io/yuki-wd/pen/ExXYbZE\"\u003e\n  ellipsis\u003c/a\u003e by pywd (\u003ca href=\"https://codepen.io/yuki-wd\"\u003e@yuki-wd\u003c/a\u003e)\n  on \u003ca href=\"https://codepen.io\"\u003eCodePen\u003c/a\u003e.\n\u003c/iframe\u003e\n\u003cp\u003eこんな感じに、はみ出した部分を薄くする表現。省略表現と書いたが、省略ではない気がしてきた...\u003c/p\u003e\n\u003ch2\u003e考え方\u003c/h2\u003e\n\u003cblockquote\u003e\n\u003cp\u003emask-image は CSS のプロパティで、要素のマスクレイヤーとして使用される画像を設定します。\n\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/CSS/mask-image\"\u003ehttps://developer.mozilla.org/ja/docs/Web/CSS/mask-image\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003ccode\u003emask-image\u003c/code\u003e に \u003ccode\u003elinear-gradient()\u003c/code\u003e を設定することで、指定位置以降(はみ出した場所)の要素の透明度を上げてやろうというアプローチ。\u003c/p\u003e\n\u003ch2\u003e実装\u003c/h2\u003e\n\u003cp\u003eはみ出したかどうかを判定したい要素(今回は \u003ccode\u003e.box\u003c/code\u003e)を\u003ccode\u003ewidth: 100%\u003c/code\u003eの要素(\u003ccode\u003e.row\u003c/code\u003e)で囲う。この\u003ccode\u003e.row\u003c/code\u003eに\u003ccode\u003emask-image\u003c/code\u003eを設定する。\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003elinear-gradient()\u003c/code\u003e で右向きに \u003ccode\u003ergb(0,0,0)\u003c/code\u003e から \u003ccode\u003ergba(0,0,0,0.4)\u003c/code\u003eに変化するように設定する。それぞれ、はみ出し部分(まで|から)変化するように設定することで、グラデーションなしにはみ出し部分から透明度が上がることになる。\u003c/p\u003e\n\u003cp\u003e具体的には以下のようになる\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-css\"\u003e\u003cspan class=\"hljs-selector-class\"\u003e.row\u003c/span\u003e {\n  \u003cspan class=\"hljs-attribute\"\u003ewidth\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e100%\u003c/span\u003e;\n  -webkit-\u003cspan class=\"hljs-attribute\"\u003emask\u003c/span\u003e-image: \u003cspan class=\"hljs-built_in\"\u003elinear-gradient\u003c/span\u003e(\n    to right,\n    \u003cspan class=\"hljs-built_in\"\u003ergba\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e100px\u003c/span\u003e,\n    \u003cspan class=\"hljs-built_in\"\u003ergba\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0.4\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e100px\u003c/span\u003e\n  );\n}\u003c/code\u003e\u003c/pre\u003e\n","ogp":{"title":"`mask-image` と `linear-graident()` を使った省略表現","description":"\u003ciframe height=\"300\" style=\"width: 100%;\" scrolling=\"no\" title=\"ellipsis\" src=\"https://codepen.io/yuki-wd/embed/ExXYbZE?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\"\u003e"}},"__N_SSG":true},"page":"/articles/[id]","query":{"id":"2021-08-22-ellipsis-by-gradient"},"buildId":"0x4ysPDBqiIcgC0fc0HvO","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-11c8eba6a84e3fddec04.js"></script><script src="/_next/static/chunks/main-1aebe1c5ebad78b6eefd.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.2113c6061a2f456066a1.js" async=""></script><script src="/_next/static/chunks/commons.040a3874e38b7cc6b430.js" async=""></script><script src="/_next/static/chunks/pages/_app-5874fa266a7d44909009.js" async=""></script><script src="/_next/static/chunks/c5b568cee8545d966ddc8d89f9063461e084494a.bb32f9c4396722e794d4.js" async=""></script><script src="/_next/static/chunks/pages/articles/%5Bid%5D-16081245fdd7df34b03c.js" async=""></script><script src="/_next/static/0x4ysPDBqiIcgC0fc0HvO/_buildManifest.js" async=""></script><script src="/_next/static/0x4ysPDBqiIcgC0fc0HvO/_ssgManifest.js" async=""></script></body></html>